<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>localStorage Journey Viewer</title>
</head>
<body>
	<h1>localStorage Journey Viewer</h1>

	<ol id="out">

	</ol>

	<script src="js/0common.js"></script>
	<script>
		const out = document.getElementById("out");

		if (!localStorage.getItem("journeys")) alert("Missing localStorage object");

		const journeys = JSON.parse(localStorage.getItem("journeys"));
		
		if(journeys.length === 0) alert("No journeys");

		for(const j of journeys) {
			out.innerHTML += `
			<li>
				<h2>${j.origin} (${j.originPlatform?j.originPlatform:"?"}) to ${j.destination} (${j.destinationPlatform?j.destinationPlatform:"?"})</h2>
				<p>Departing ${j.departureTimeActual} (planned ${j.departureTimePlanned})</p>
				<p>Arriving ${j.arrivalTimeActual} (planned ${j.arrivalTimePlanned})</p>
				<p>${j.distanceKm} Kilometres</p>
				<p>${j.route}</p>
				<p>${j.identity} (${j.vehicleType})</p>
				<p>${j.operatorName}</p>
				<p>Traction: ${j.vehicles.join(' ')}</p>
				<p>Note: <i>${j.notes}</i></p>
			</li>
			`;
		}
	</script>
</body>
</html>